<?xml version="1.0" encoding="utf-8"?>
<!-- Para HTML 5
<!DOCTYPE html>
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="es" lang="es">
<head>
	<meta http-equiv="content-language" content="es" />
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="charset" content="utf-8" />
	<meta name="description" content="90manager" />
	<meta name="keywords" content="" />
	<meta name="robots" content="NOINDEX, NOFOLLOW, NOARCHIVE" />

    <title>{% block title %}90manager{% endblock %}</title>

	{% block favicon %}<link rel="icon" href="/media/img/icons/favicon.ico" />{% endblock %}
	{% block css %}{% endblock %}
	{% block head_css %}{% endblock %}
	{% block head_js %}{% endblock %}
	{% block head_extra %}{% endblock %}
	{% block css_extra %}{% endblock %}
	{% block js_extra %}{% endblock %}
<body>
	{% block cabecera %}
	{% endblock %}

	{% block menu_superior %}
	{% endblock %}

	<!-- Contenedor central -->
	<div class="contenido">
		{% block contenido %}
		{% endblock %}
	</div>

	<!-- Pie de pagina -->
	<div id="footer">
		{% block pie_pagina %}
				{% block enlaces_pie_pagina %}
				{% endblock %}

				{% block logos_pie_pagina %}
					<div class="contenido" style="margin-top: 20px;">
						<a href="http://validator.w3.org/check?uri=referer">
							<img src="http://www.w3.org/Icons/valid-xhtml10"
								 alt="Valid XHTML 1.0 Transitional" height="31" width="88" />
						</a>

						<a href="http://jigsaw.w3.org/css-validator/check/referer">
							<img style="border:0;width:88px;height:31px"
								src="http://jigsaw.w3.org/css-validator/images/vcss"
								alt="¡CSS Válido!" />
						</a>
					</div>
				{% endblock %}
				<!-- No tocar que hay que arreglarlo un poco aun -->
				<script language="JavaScript">
					// Calcula el tiempo dependiendo de num1 y num2
					function calcularTiempo(segundos, num1, num2) {
						s = ((Math.floor(segundos / num1)) % num2).toString();
						if (s.length < 2)
							s = "0" + s;
						return "<b>" + s + "</b>";
					}

					// Actualiza el span con el texto
					function contadorDesactualizado(segundos) {
						if (segundos < 0) {
							document.getElementById("contador_desactualizado").innerHTML = "¡Actualizado!";
							return;
						}
						str_tiempo = formato_tiempo.replace(/%%D%%/g, calcularTiempo(segundos, 86400, 100000));
						str_tiempo = str_tiempo.replace(/%%H%%/g, calcularTiempo(segundos, 3600, 24));
						str_tiempo = str_tiempo.replace(/%%M%%/g, calcularTiempo(segundos, 60, 60));
						str_tiempo = str_tiempo.replace(/%%S%%/g, calcularTiempo(segundos, 1, 60));

						document.getElementById("contador_desactualizado").innerHTML = "Desactualizado desde hace " + str_tiempo;

						setTimeout("contadorDesactualizado(" + (segundos + paso) + ")", timeout);
					}

					// Agrega un span a la página
					function putSpan() {
						document.write("<span id='contador_desactualizado'></span>");
					}

					fechaUltimaActualizacion = "03/18/2011 14:28";
					formato_tiempo = "%%D%% Días, %%H%% Horas, %%M%% Minutos, %%S%% Segundos.";
					paso = +1;

					paso = Math.ceil(paso); // Filtrico

					var timeout = (Math.abs(paso) - 1) * 1000 + 990;
					putSpan();
					var antes = new Date(fechaUltimaActualizacion);
					var ahora = new Date();
					dif = new Date(ahora - antes);
					gsegs = Math.floor(dif.valueOf() / 1000);
					contadorDesactualizado(gsegs);
				</script>
		{% endblock %}
	</div>
</body>
</html>

